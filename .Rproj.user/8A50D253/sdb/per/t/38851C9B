{
    "contents" : "rm(list=ls(all=TRUE)) #Clear out variables from previous runs.\noptions(\"scipen\"=10, \"digits\"=5) \n######### Set Up Working Directory!!\n#  setwd(dir = \"./ \")\n\nlibrary(Hmisc) # matrix and utility functions\nlibrary(corrgram) # graphing correlation matrices\nlibrary(sem) # structural equation modeling\n\n\n#### Resources ####\n\n## Please consult the website of James Steiger ( www.statpower.net ) for all materials pertaining to this demonstration. \n\n## For the demonstraction of factor analysis with 'sem' package see Steiger's tutorial entitled \"CFA with R\" ( http://statpower.net/Content/312/Handout/Confirmatory%20Factor%20Analysis%20with%20R.pdf )\n\n## For detailed discussion of 'sem' package see John Fox paper \"Structural Equation Modeling in R with the sem Package\" ( http://socserv.mcmaster.ca/jfox/Books/Companion/appendix/Appendix-SEMs.pdf )\n\n## For 'sem' package documentation see  http://cran.r-project.org/web/packages/sem/sem.pdf  or  http://www.rdocumentation.org/packages/sem \n\n## For \"Exploratory-Confirmatory\" Approach see Karl Joreskog 1978 paper ( http://www.researchgate.net/profile/Karl_Joereskog/publication/24062332_Structural_analysis_of_covariance_and_correlation_matrices/links/0046352b8b078d34d6000000.pdf )\n\n\n\n#### Custom functions ####\nsource(\"http://statpower.net/Content/312/R%20Stuff/Steiger%20R%20Library%20Functions.txt\")\n# Functions to assist you in FA and SEM\nsource(\"http://statpower.net/Content/312/R%20Stuff/AdvancedFactorFunctions.txt\")\n# Functions by Dirk Enzmann to aid promax rotation\nsource(\"http://statpower.net/Content/312/R%20Stuff/fa.promax.R\")\n\n#### Data and Option prep ####\n\n# Load Athletic data directly from James Stieger's website\nAthleticsData <- read.csv(\"http://statpower.net/Content/312/Homework/AthleticsData.csv\")\n# attach(AthleticsData)\n\n\n#          R            Correlation/Covariance matrix - R  \n#      F      F'        Grahm-Factors                 - F\n#   VD1/2   D1/2V'      Principle Component patterns  - \n#   V     D     V'      Earhart-Young decomposition   - V, D   \n#      Rv = cv          Eigenvalues and Eigenvectors  \n\nR<-cor(AthleticsData) # correlation matrix R of variables in AthleticsData\nR\n\n\n\n## selection of availible fit/information indices\n# opt <- options(fit.indices = c(\"GFI\", \"AGFI\", \"RMSEA\", \"NFI\", \"NNFI\",\"CFI\", \"RNI\", \"IFI\", \"SRMR\", \"AIC\", \"AICc\", \"BIC\", \"CAIC\"))\nopt <- options(fit.indices= c(\"GFI\",\"RMSEA\"))\nstandardizedCoefficients(cfa1.fit) # a cleaner print of coefficients than summary()\n\n#### 1. Pure Confirmatory Analsyis ####\ncfa1.model <- specifyModel(\"./Cases/CFA with R/Class Demo/CFA1.txt\")\ncfa1.fit <- sem(cfa1.model, R, 1000)\nsummary(cfa1.fit, opt)\nmodIndices(cfa1.fit)\n\n#### 2. \"Confirm and Update\" Approach \ncfa2.model <- specifyModel(\"./Cases/CFA with R/Class Demo/CFA2.txt\")\ncfa2.fit <- sem(cfa2.model, R, 1000)\nsummary(cfa2.fit, opt)\nmodIndices(cfa2.fit)\n\ncfa3.model <- specifyModel(\"./Cases/CFA with R/Class Demo/CFA3.txt\")\ncfa3.fit <- sem(cfa3.model, R, 1000)\nsummary(cfa3.fit, opt)\nmodIndices(cfa3.fit)\n\ncfa4.model <- specifyModel(\"./Cases/CFA with R/Class Demo/CFA4.txt\")\ncfa4.fit <- sem(cfa4.model, R, 1000)\nsummary(cfa4.fit, opt)\nmodIndices(cfa4.fit)\n\n#### 3. The \"Exploratory-Confirmatory\" Approach\n\n\n",
    "created" : 1427848978000.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2311854862",
    "id" : "38851C9B",
    "lastKnownWriteTime" : 1427737392,
    "path" : "~/GitHub/psy533/Cases/CFA with R/Class Demo/CFA with R.R",
    "project_path" : "Cases/CFA with R/Class Demo/CFA with R.R",
    "properties" : {
    },
    "relative_order" : 0,
    "source_on_save" : false,
    "type" : "r_source"
}