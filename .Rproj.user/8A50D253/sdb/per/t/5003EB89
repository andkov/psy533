{
    "contents" : "<pre><div class=\"text_to_html\">#### SETUP ####\nrm(list=ls(all=TRUE)) #Clear out variables from previous runs.\noptions(\"scipen\"=10, \"digits\"=3) # control the decimal places in the output\n\n# Install packages if necessary\n# install.packages(\"psych\")  \n# install.packages(\"corrgram\") \n# install.packages(\"Hmisc\")\n# install.packages(\"sem\")\n# install.packages(\"reshape2\")\n# install.packages(\"ggplot2\")\n# install.packages(\"plotrix\")\n\n## load the packages\nlibrary(psych) # multipurpose for psychologist\nlibrary(corrgram) # for graphing correlation matrices\nlibrary(Hmisc)# multipurpose\nlibrary(sem) # structural equation modeling\nlibrary(reshape2) # data transformation\nlibrary(ggplot2) # general graphing\nlibrary(plotrix) # ploting matrix graphs\n\n# Please consult the website of James Steiger (<a href=\"http://www.statpower.net\" class=\"_blanktarget\">www.statpower.net</a>) for all materials pertaining to this demonstration. ( See Psychology 312)\n\n## load some custom functions\n# Useful function for multivariate stats\nsource(\"http://statpower.net/Content/312/R%20Stuff/Steiger%20R%20Library%20Functions.txt\")\n# Functions to assist you in FA and SEM\nsource(\"http://statpower.net/Content/312/R%20Stuff/AdvancedFactorFunctions.txt\")\n# Functions by Dirk Enzmann to aid promax rotation\nsource(\"http://statpower.net/Content/312/R%20Stuff/fa.promax.R\")\n\n\npathHome <- getwd()\npathFile <- file.path(pathHome,\"Homework/LongPerkinsTime1SCI.csv\")\n\n#### Data prep ####\n\nds <- read.table(pathFile, sep=\",\", header=T) # read in the data\nhead(ds) # print the first few lines\nstr(ds) # examine the structure of the object\ndim(ds)\nnrow(ds)\n\n\n#convert variables back into numeri\nfor(i in  colnames(ds)){\n  ds[,i]<- as.numeric(ds[,i])\n}\n\n\n# subset the data to keep only the rows without any missing values\nds <- na.omit(ds)\nds\n\n\n##  Data originated from the following questionnaire :\n# I am going to read some things that people might say about their block. Each time I read one of these\n# statements, please tell me if it is mostly true or mostly false about your block simply by saying \"true\" (2=MORE SOC) or \"false\" (1=LESS SOC).\n\n# SCI1 - I think my block is a good place for me to live.\n# SCI2 - People on this block do not share the same values. (reverse)\n# SCI3 - My neighbors and I want the same things from the block.\n# SCI4 - I can recognize most of the people who live on my block.\n# SCI5 - I feel at home on this block.\n# SCI6 - Very few of my neighbors know me. (reverse)\n# SCI7 - I care about what my neighbors think of my actions.\n# SCI8 - I have almost no influence over what this block is like. (reverse)\n# SCI9 - If there is a problem on this block people who live here can get it solved.\n# SCI10 - It is very important to me to live on this particular block.\n# SCI11 - People on this block generally don't get along with each other. (reverse)\n# SCI12 - I expect to live on this block for a long time.\n#\n# NOTE: Items 2,6,8,11 are reverse coded! This means that the loading on this item may\n# be negative on the designated factor.\n\n# assigning descriptive names to the variables\n# varNames <- c(â€œvarname1\", \"varname2\", ... , \"varname12\")  # To edit if you want more meaningful variable names   \n\nusevars <- c(\"SCI1\", \"SCI2\", \"SCI4\", \"SCI5\", \"SCI6\", \"SCI8\", \"SCI9\", \"SCI10\", \"SCI11\", \"SCI12\")\ndsR <- ds[usevars]\n#### Examine correlations ####\n\n# compute correlation matrix (.5)\nS <- cov(dsR)\n\n# Print the correlation matrix (.5)\nS\n\n# print a correlogram of the correlation matrix using corrgram() function of the corrgram package, use default options (.5)\n#corrgram(R)\n\n# customize the correlogram so that the lower triangle gives pie graphs and upper triangle shows the numerical values for the correlation (.5)\n\ncorrgram(R, upper.panel=panel.conf, lower.panel=panel.pie)\n\n# further customize the correlogram so that variable are ordered according to the PCA logic  (.5)\n\ncorrgram(R, upper.panel=panel.conf, lower.panel=panel.pie, order = TRUE)\n\n\nsci1.model <- specifyModel(\"SCI1.txt\")\nsci1.fit <- sem(sci1.model, S, 575)\nsummary(sci1.fit)\n",
    "created" : 1427848915328.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4212138090",
    "id" : "5003EB89",
    "lastKnownWriteTime" : 1428005895,
    "path" : "~/GitHub/psy533/Homework/HM4.R",
    "project_path" : "Homework/HM4.R",
    "properties" : {
    },
    "relative_order" : 0,
    "source_on_save" : false,
    "type" : "r_source"
}